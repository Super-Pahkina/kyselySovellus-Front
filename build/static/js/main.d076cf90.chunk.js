(this.webpackJsonpkyselysovellusfront=this.webpackJsonpkyselysovellusfront||[]).push([[0],{207:function(e,t,n){},334:function(e,t,n){"use strict";n.r(t);var s=n(3),c=n(1),a=n.n(c),i=n(37),r=n.n(i),o=(n(207),n(17)),l=n(125);var j=function(e){var t=e.kysymys,n=e.value,c=e.handleSubmit,a=e.handleVastausChange,i=e.handleCheckboxChange,r=e.handleRadionappulaChange;return"teksti"===t.tyyppi?Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:c,children:[Object(s.jsx)("p",{}),t.teksti," ",Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{id:"text",type:"text",value:n,onChange:a})," ",Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",children:"JATKA"})]})}):"checkbox"===t.tyyppi?Object(s.jsx)("div",{name:"checkbox",children:Object(s.jsxs)("form",{onSubmit:c,children:[Object(s.jsx)("p",{}),t.teksti," ",Object(s.jsx)("br",{}),t.monivalinta.map((function(e,t){return Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"checkbox",id:t+100,name:"checkbox",value:e,onChange:i},e),e,Object(s.jsx)("br",{})]},t+100)})),Object(s.jsx)("button",{type:"submit",children:"JATKA"})]})}):"radionappula"===t.tyyppi?Object(s.jsx)("div",{name:"radio",children:Object(s.jsxs)("form",{onSubmit:c,children:[Object(s.jsx)("p",{}),t.teksti," ",Object(s.jsx)("br",{}),t.monivalinta.map((function(e,t){return Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",id:e,name:"radionappula",value:e,onChange:r},e),e,Object(s.jsx)("br",{})]},t)})),Object(s.jsx)("button",{type:"submit",children:"JATKA"})]})}):void 0},y=n(61),b=n.n(y),u=n(359),d=n(361),h=Object(u.a)({div:{marginLeft:20},button:{padding:10,background:"white",margin:5,color:"black",boxShadow:"0 5px 10px 5px rgba(100, 1, 100, .3)","&:hover":{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 50%)",color:"#FFF"}}});var m=function(e){var t=h(),n=Object(c.useState)([]),a=Object(o.a)(n,2),i=a[0],r=a[1],y=Object(c.useState)(0),u=Object(o.a)(y,2),m=u[0],O=u[1],x=Object(c.useState)({syote:"",kysymys:{}}),k=Object(o.a)(x,2),p=k[0],g=k[1],f=Object(c.useState)({checkbox:[],kysymys:{}}),v=Object(o.a)(f,2),F=v[0],S=v[1],N=Object(c.useState)([]),C=Object(o.a)(N,2),A=C[0],T=C[1],w=Object(c.useState)(""),E=Object(o.a)(w,2),L=E[0],_=E[1],V=Object(c.useState)(""),B=Object(o.a)(V,2),I=B[0],J=B[1],K=e.kysely_id;Object(c.useEffect)((function(){P()}),[]);var H="http://kyselysovellus.herokuapp.com/kyselyt/".concat(K,"/kysymykset"),P=function(){fetch(H).then((function(e){return e.json()})).then((function(e){return r(e)}))},D=function(){O(m+1)},R=function(){var e={syote:p.syote,kysymys:p.kysymys};b.a.post("http://kyselysovellus.herokuapp.com/kyselyt/".concat(K,"/kysymykset/").concat(p.kysymys.kysymys_id,"/vastaus"),e).then((function(e){200===e.status?(g({syote:"",kysymys:""}),_("Lis\xe4ttiin")):_("Lis\xe4ys ei onnistunut"),console.log(L)}))},U=function(){var e={checkbox:F.checkbox,kysymys:F.kysymys};b.a.post("http://kyselysovellus.herokuapp.com/kyselyt/".concat(K,"/kysymykset/").concat(F.kysymys.kysymys_id,"/vastaus"),e).then((function(e){200===e.status?(S({checkbox:[],kysymys:""}),_("Lis\xe4ttiin")):_("Lis\xe4ys ei onnistunut"),console.log(L)}))};return m===i.length?Object(s.jsxs)("div",{className:t.div,children:[Object(s.jsx)("h1",{children:"Kiitos kyselyyn vastaamisesta!"}),Object(s.jsx)("h3",{children:"Vastauksesi"}),Object(s.jsxs)("div",{children:[A.map((function(e,t){return"teksti"===e.kysymys.tyyppi||"radionappula"===e.kysymys.tyyppi?Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:e.kysymys.teksti}),Object(s.jsx)("p",{children:e.syote},t)]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:e.kysymys.teksti}),e.checkbox.map((function(e){return Object(s.jsx)("p",{children:e})}))]})}))," ",Object(s.jsx)(d.a,{className:t.button,a:!0,href:"/",children:"Palaa etusivulle"})]})]}):Object(s.jsxs)("div",{className:t.div,children:[Object(s.jsx)("h1",{children:i[0].kysely.nimi}),Object(s.jsx)("h2",{children:i[0].kysely.kuvaus}),Object(s.jsxs)("p",{children:["T\xe4m\xe4 on ",m+1," / ",i.length," kysymys"]}),Object(s.jsx)(j,{kysymys:i[m],value:p.syote,handleSubmit:function(e){if(e.preventDefault(),"teksti"===i[m].tyyppi)if(0===p.syote.length)J("Vastaus ei voi olla tyhj\xe4!");else{var t=A.concat(p);T(t),R(p),J(""),g({syote:"",kysymys:{}}),D()}else if("checkbox"===i[m].tyyppi)if(0===F.checkbox.length)J("Vastaus ei voi olla tyhj\xe4!");else{var n=A.concat(F);T(n),U(F),J(""),S({checkbox:[],kysymys:{}}),D()}else if("radionappula"===i[m].tyyppi)if(0===p.syote.length)J("Vastaus ei voi olla tyhj\xe4!");else{var s=A.concat(p);T(s),R(p),J(""),g({syote:"",kysymys:{}}),D()}},handleRadionappulaChange:function(e){var t=e.target.checked;t?g({syote:e.target.value,kysymys:i[m]}):t||g({syote:"",kysymys:i[m]}),console.log(t),console.log(e.target.value),console.log("VASTAUS",JSON.stringify(p))},handleCheckboxChange:function(e){var t=e.target.checked;if(t){var n=Object(l.a)(F.checkbox);n.push(e.target.value),S({checkbox:n,kysymys:i[m]})}else if(!t){var s=Object(l.a)(F.checkbox).filter((function(t){return t!==e.target.value}));S({checkbox:s,kysymys:i[m]})}console.log(t),console.log(e.target.value),console.log("MONIVALINNAT",JSON.stringify(F))},handleVastausChange:function(e){g({syote:e.target.value,kysymys:i[m]}),console.log(p)}}),Object(s.jsx)("h2",{children:I})]})},O=n(23),x=n(13),k=n(362),p=n(374),g=n(363),f=n(365),v=n(103),F=n(370),S=n(364),N=n(102),C=n.n(N),A=n(369),T=n(375),w=n(367),E=n(372),L=n(371),_=Object(u.a)((function(e){return{Header:{},button:{padding:10,background:"white",margin:5,color:"black",boxShadow:"0 5px 10px 5px rgba(100, 1, 100, .3)","&:hover":{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 50%)",color:"#FFF"}},Chart:{Height:300,Width:300},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));var V=function(e){var t=_(),n=Object(c.useState)(e.kysely_id),i=Object(o.a)(n,2),r=i[0],l=(i[1],Object(c.useState)([])),j=Object(o.a)(l,2),y=j[0],u=j[1],h=a.a.useState(-1),m=Object(o.a)(h,2),N=m[0],V=m[1],B=0,I=0,J=Object(c.useState)([]),K=Object(o.a)(J,2),H=K[0],P=K[1],D="http://kyselysovellus.herokuapp.com/kyselyt/".concat(r,"/vastaukset"),R="http://kyselysovellus.herokuapp.com/kyselyt/".concat(r,"/kysymykset");Object(c.useEffect)((function(){U()}),[]);var U=function(){b.a.get(D).then((function(e){return u(e.data)})),b.a.get(R).then((function(e){return P(e.data)})),console.log("LISTA",JSON.stringify(H[0])),console.log("DATA",y)},M=function(e){V(N===e?-1:e)},W=function(e){if(null===e)return new Array;for(var t=0,n=0,s=0,c=0,a=!1,i={nimi:[],"m\xe4\xe4r\xe4":[]};s<y.length;){if(y[s].kysymys.kysymys_id===e){if(y[s].checkbox.length>0)for(;c<y[s].kysymys.monivalinta.length;)i.nimi.push(y[s].kysymys.monivalinta[c]),i.m\u00e4\u00e4r\u00e4.push(0),c+=1;for(;t<y[s].checkbox.length;){for(;n<i.nimi.length;)y[s].checkbox[t]===i.nimi[n]&&(a=!0,i.m\u00e4\u00e4r\u00e4[n]=i.m\u00e4\u00e4r\u00e4[n]+1),n+=1;a||(i.nimi.push(y[s].checkbox[t]),i.m\u00e4\u00e4r\u00e4.push(1)),a=!1,n=0,t+=1}t=0}s+=1}var r=new Array;for(s=0;s<i.nimi.length;s++){var o={nimi:i.nimi[s],"m\xe4\xe4r\xe4":i.m\u00e4\u00e4r\u00e4[s]};r.push(o)}return r},q=function(e){for(var t=0,n=0,s=!1,c={nimi:[],"m\xe4\xe4r\xe4":[]};n<y.length;){if(y[n].kysymys.kysymys_id===e&&"radionappula"===y[n].kysymys.tyyppi){for(;t<c.nimi.length;)y[n].syote===c.nimi[t]&&(s=!0,c.m\u00e4\u00e4r\u00e4[t]=c.m\u00e4\u00e4r\u00e4[t]+1),t+=1;s||(c.nimi.push(y[n].syote),c.m\u00e4\u00e4r\u00e4.push(1)),s=!1,t=0}n+=1}var a=new Array;for(n=0;n<c.nimi.length;n++){console.log("M\xc4\xc4R\xc4 ",c.m\u00e4\u00e4r\u00e4[n]);var i={x:c.m\u00e4\u00e4r\u00e4[n]>0?c.nimi[n]+"/ "+c.m\u00e4\u00e4r\u00e4[n]+" kpl":c.nimi[n],y:c.m\u00e4\u00e4r\u00e4[n]};a.push(i)}return a};return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{}),Object(s.jsx)(k.a,{container:!0,direction:"column",spacing:1,className:t.grid,children:H.map((function(e,n){return Object(s.jsxs)(s.Fragment,{children:[0===B?Object(s.jsxs)(k.a,{item:!0,className:t.Kysely,children:[Object(s.jsx)("h1",{children:H[0].kysely.nimi}),Object(s.jsx)("h2",{children:H[0].kysely.kuvaus}),Object(s.jsx)("h2",{children:"Vastaukset:"}),Object(s.jsx)(d.a,{className:t.button,a:!0,href:"/",children:"Palaa etusivulle"}),Object(s.jsx)("span",{style:{display:"none"},children:B=1})]},n):Object(s.jsx)(s.Fragment,{}),Object(s.jsx)(k.a,{item:!0,className:t.gridItem,children:Object(s.jsxs)("div",{children:[Object(s.jsxs)(p.a,{children:[Object(s.jsx)(g.a,{className:t.Header,title:e.teksti}),y.map((function(c,a){if(c.kysymys.kysymys_id===e.kysymys_id){var i,r,o;if(I+=1,"teksti"===c.kysymys.tyyppi)return Object(s.jsxs)(s.Fragment,{children:[1===I?Object(s.jsx)(S.a,(i={className:t.Icon},Object(O.a)(i,"className",Object(x.a)(t.expand,Object(O.a)({},t.expandOpen,N===n))),Object(O.a)(i,"onClick",(function(){return M(n)})),Object(O.a)(i,"aria-expanded",N===n),Object(O.a)(i,"children",Object(s.jsx)(C.a,{})),i)):Object(s.jsx)(s.Fragment,{}),Object(s.jsx)(F.a,{in:N===n,children:Object(s.jsx)(f.a,{className:t.content,children:Object(s.jsxs)(v.a,{children:[I,": ",c.syote]},a)})})]});if("radionappula"===c.kysymys.tyyppi)return Object(s.jsxs)(s.Fragment,{children:[1===I?Object(s.jsx)(S.a,(r={className:t.Icon},Object(O.a)(r,"className",Object(x.a)(t.expand,Object(O.a)({},t.expandOpen,N===n))),Object(O.a)(r,"onClick",(function(){return M(n)})),Object(O.a)(r,"aria-expanded",N===n),Object(O.a)(r,"children",Object(s.jsx)(C.a,{})),r)):Object(s.jsx)(s.Fragment,{}),Object(s.jsx)(F.a,{in:N===n,children:1===I?Object(s.jsx)(f.a,{className:t.content,children:Object(s.jsx)("div",{children:Object(s.jsx)(A.a,{data:q(e.kysymys_id),colorScale:"qualitative",domainPadding:20,height:400,width:500,containerComponent:Object(s.jsx)(T.a,{responsive:!1})})})}):Object(s.jsx)(s.Fragment,{})})]});if("checkbox"===e.tyyppi)return Object(s.jsxs)(s.Fragment,{children:[1===I?Object(s.jsx)(S.a,(o={className:t.Icon},Object(O.a)(o,"className",Object(x.a)(t.expand,Object(O.a)({},t.expandOpen,N===n))),Object(O.a)(o,"onClick",(function(){return M(n)})),Object(O.a)(o,"aria-expanded",N===n),Object(O.a)(o,"children",Object(s.jsx)(C.a,{})),o)):Object(s.jsx)(s.Fragment,{}),Object(s.jsx)(F.a,{in:N===n,children:1===I?Object(s.jsx)(f.a,{className:t.content,children:Object(s.jsx)("div",{children:Object(s.jsx)(w.a,{domainPadding:20,height:400,width:120*W(e.kysymys_id).length,containerComponent:Object(s.jsx)(T.a,{responsive:!1}),labelComponent:Object(s.jsx)(E.a,{angle:45}),children:Object(s.jsx)(L.a,{style:{data:{fill:"#c43a31"}},data:W(e.kysymys_id),x:"nimi",y:"m\xe4\xe4r\xe4"})})})}):Object(s.jsx)(s.Fragment,{})})]})}}))]}),Object(s.jsx)("span",{style:{display:"none"},children:I=0})]})},n)]})}))})]})},B=Object(u.a)({button:{padding:10,background:"white",margin:5,color:"blue",boxShadow:"0 5px 10px 5px rgba(100, 1, 100, .3)","&:hover":{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 50%)",color:"#FFF"}},button2:{padding:10,background:"white",color:"red",boxShadow:"0 5px 10px 5px rgba(100, 1, 100, .3)","&:hover":{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 50%)",color:"#FFF"}},card:{background:"linear-gradient(90deg, #FE6B8B 30%, #FF8E53 90%)",color:"white",marginLeft:20},content:{background:"white"},search:{textAlign:"center"},h1:{textAlign:"center"}});var I=function(e){var t=e.handleVastaa,n=e.handleTulokset,a=B(),i=Object(c.useState)([]),r=Object(o.a)(i,2),l=r[0],j=r[1],y=Object(c.useState)(""),b=Object(o.a)(y,2),u=b[0],h=b[1];return Object(c.useEffect)((function(){!function(){fetch("http://kyselysovellus.herokuapp.com/kyselyt").then((function(e){return e.json()})).then((function(e){return j(e)}));var e=l.filter((function(e){return!0!==e.piilotettu}));console.log("RESULT",JSON.stringify(e)),j(e)}()}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{className:a.h1,children:"Kaikki kyselyt"}),Object(s.jsxs)("p",{className:a.search,children:[" ",Object(s.jsx)("input",{placeholder:"Hae kysely",type:"text",onChange:function(e){h(e.target.value)}})]}),Object(s.jsx)(k.a,{container:!0,spacing:4,style:{marginTop:.1,justifyContent:"center"},children:l.filter((function(e){return""===u||e.nimi.toLowerCase().includes(u.toLowerCase())?l:void 0})).map((function(e){return e.piilotettu?Object(s.jsx)("div",{}):Object(s.jsx)(k.a,{item:!0,children:Object(s.jsxs)(p.a,{className:a.card,style:{marginTop:10,maxWidth:300,minWidth:200},children:[Object(s.jsx)(p.a,{title:"kysely",children:Object(s.jsx)(v.a,{align:"center",children:e.nimi})}),Object(s.jsxs)(f.a,{children:[Object(s.jsx)(d.a,{className:a.button,onClick:function(){return t(e.kysely_id)},children:"VASTAA"}),Object(s.jsx)(d.a,{className:a.button2,onClick:function(){return n(e.kysely_id)},children:"TULOKSET"})]})]})},e.kysely_id)}))})," "]})};var J=function(){var e=Object(c.useState)("etusivu"),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(o.a)(i,2),l=r[0],j=r[1];return"etusivu"===n?Object(s.jsx)(I,{handleVastaa:function(e){a("vastaussivu"),j(e),console.log("HANDLEVASTAA",n)},handleTulokset:function(e){a("tulossivu"),j(e),console.log("HANDLE TULOKSET",n)}}):"tulossivu"===n?Object(s.jsx)("div",{children:Object(s.jsx)(V,{kysely_id:l})}):"vastaussivu"===n?Object(s.jsx)("div",{children:Object(s.jsx)(m,{kysely_id:l})}):void 0},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,378)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(J,{})}),document.getElementById("root")),K()}},[[334,1,2]]]);
//# sourceMappingURL=main.d076cf90.chunk.js.map